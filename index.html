<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Document</title>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
		integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
		integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous">
	</script>
	<link rel="stylesheet" href="css/style.css">
</head>

<body>
	<div id="app" class="d-flex flex-column justify-content-center">
		<div class="container border">
			<h1 class="mt-3 text-center">Fate/Grand Order Code Storage APP</h1>
			<div class="alert alert-danger mt-3" role="alert">
				Caution: the codes must be secret and the sharing is at your own risk.
			</div>
			<table class="mt-5 table">
				<thead>
					<tr>
						<th>ID</th>
						<th>Código</th>
						<th>Servidor</th>
						<th>Qtd. SSR</th>
						<th>Servos Notáveis</th>
					</tr>
				</thead>
				<tbody>
					<tr v-for="account in accounts">
						<td>{{account.id}}</td>
						<td><span class="spoiler">{{account.code}}</span></td>
						<td>{{account.server}}</td>
						<td>{{account.ssr}}</td>
						<td>
							<ul>
								<li v-for="servant in account.notable">
									{{servant.name}}-{{servant.level}}-NP{{servant.npLvl}}
								</li>
							</ul>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

	<script>
		new Vue({
			el: "#app",
			data() {
				return {
					title: 'Códigos FGO',
					accounts: null
				}
			},
			methods: {
				getAccounts() {
					fetch('./data/accounts.json')
						.then(resp => resp.json())
						.then(data => this.accounts = data)
				}
			},
			mounted() {
				this.getAccounts()
			}
		});
	</script>
</body>

</html>